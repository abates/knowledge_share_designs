---

manufacturers:
  - name: "Juniper"
    slug: "juniper"

device_types:
  - model: "PTX10004"
    slug: "ptx10004"
    manufacturer__slug: "juniper"

device_roles:
  - name: "Core Router"
    slug: "core_router"
    color: "3f51b5"

regions:
    name: "Americas"
    children:
    - name: "United States"
      children:
      - name: "US-East-1"
        sites:
        - name: "IAD5"
          status__name: "Active"
          "!ref": "iad5"
        - name: "lga1"
          status__name: "Active"
          "!ref": "lga1"

      - name: "US-West-1"
        sites:
        - name: "LAX11"
          status__name: "Active"
          "!ref": "lax11"
        - name: "SEA1"
          status__name: "Active"
          "!ref": "sea1"

{% macro device(device_name, site) -%}
    - name: "{{ device_name }}.{{ site }}"
      site: "!ref:{{ site }}"
      device_type__slug: "ptx10004"
      device_role__slug: "core_router"
      status__name: "Planned"
{% endmacro %}

devices:
    # IAD5 Core Router Pair
    {{ device("core01", "iad5") }}
    {{ device("core02", "iad5") }}

    # LGA1 Core Router Pair
    {{ device("core01", "lga1") }}
    {{ device("core02", "lga1") }}

    # LAX11 Core Router Pair
    {{ device("core01", "lax11") }}
    {{ device("core02", "lax11") }}

    # SEA1 Core Router Pair
    {{ device("core01", "sea1") }}
    {{ device("core02", "sea1") }}

{#    - name: "core01.iad5"
      site: "!ref:iad5"
      device_type__slug: "ptx10004
      device_role__slug: "core_router"
      status__name: "Planned"
    - name: "core02.iad5"
      site: "!ref:iad5"
      device_type__slug: "ptx10004
      device_role__slug: "core_router"
      status__name: "Planned"

    # LGA1 Core Router Pair
    - name: "core01.lga1"
      site: "!ref:lga1"
      device_type__slug: "ptx10004
      device_role__slug: "core_router"
      status__name: "Planned"
    - name: "core02.lga1"
      site: "!ref:lga1"
      device_type__slug: "ptx10004
      device_role__slug: "core_router"
      status__name: "Planned"

    # LAX11 Core Router Pair
    - name: "core01.lax11"
      site: "!ref:lax11"
      device_type__slug: "ptx10004
      device_role__slug: "core_router"
      status__name: "Planned"
    - name: "core02.lax11"
      site: "!ref:lax11"
      device_type__slug: "ptx10004
      device_role__slug: "core_router"
      status__name: "Planned"

    # SEA1 Core Router Pair
    - name: "core01.sea1"
      site: "!ref:sea1"
      device_type__slug: "ptx10004
      device_role__slug: "core_router"
      status__name: "Planned"
    - name: "core02.sea1"
      site: "!ref:sea1"
      device_type__slug: "ptx10004
      device_role__slug: "core_router"
      status__name: "Planned"
#}